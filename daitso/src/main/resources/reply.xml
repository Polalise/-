<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- namespace xml의 이름 -->
<mapper namespace="replyns">
<select id="getMaxNum" resultType="integer">
		<!-- 제일큰수 가져와서 +1 하고 값이 없으면 0 -->
		select nvl(max(rno),0) + 1 from replyBoard
	</select>
	<!-- 글작성 -->
	<insert id="insert" parameterType="reply">
		insert into replyBoard
		values(#{rno},#{replytext},sysdate,'n',#{rating},#{num},
		#{id})
	</insert>
		<select id="list" parameterType="integer" resultType="reply">
		select * from replyBoard where num=#{num} order by rno
	</select>
	<update id="delete" parameterType="reply">
	   update replyboard set del='y' where rno=#{rno}
	</update>
	<!-- 댓글수정 -->
	<update id="update" parameterType="reply">
	    update replyboard set replytext=#{replytext},regdate=sysdate where rno=#{rno}
	</update>
</mapper>